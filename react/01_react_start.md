# 리액트 학습 시작

리액트는 이제 웹 프론트엔드 개발의 기준이 되었다고 한다. 나도 웹 프론트엔드 개발자를 목표로 하였으니 리액트를 제대로 배워보려 한다. 이 시리즈는 내가 리액트를 학습하며 알게 된 것들을 누구가에게 정보를 전달하려는 목적이 아닌, 스스로 학습을 정리하고, 저장하여 추후에 다시 볼 목적으로 작성한다. 따라서 두서가 없거나 조금은 틀린 정보가 있을 수 있다. (틀린 정보가 있다면 댓글로 알려주시면 감사하겠습니다!) 리액트에 관련해서는 이미 나보다 훨씬 훌륭한 분들이 많은 정보를 공유하고 있으니, 이 글을 보는 분들은 참고만 하시면 좋을 것 같다.

~~출처: fastcampus강의, react 공식문서, 수많은 유튜브 강의들을 재 조합한 내 머리~~

<img src="https://velog.velcdn.com/images/lukaid/post/bbe5ed0e-0f8e-4238-b811-f0fa40bf88ef/image.png" alt="react logo" style="">

<br>
<br>

## 리액트란?

나는 이미 플러터 개발 경험이 있다. 플러터는 리액트의 사상에서 많은 영감을 받았다고 한다. (공부하다보니 클래스 기반 컴포넌트에서 영감을 많이 받은 듯) 따라서 큰 틀에서의 개념에는 크게 어렵지는 않았다. 그리고 플러터와는 많이 다르다고 느낀점은 리액트는 "라이브러리"라는 점이다. 내가 생각하는 프레임워크와 라이브러리의 가장 큰 차이점은, 개발의 주체가 어디에 있냐인 것 같다. 프레임워크는 프레임워크가 제공하는 틀 안에서 개발자가 적절한 위치에 적절한 요소들을 선택하며 개발하지만, 라이브러리는 개발자가 큰 틀을 설계하고, 라이브러리에서 제공하는 개별 요소를 가져다가 적절한 위치에 적절히 배치하여 개발한다.

<br>
<br>

## 컴포넌트란?

리액트에서 컴포넌트는 **재사용이 가능한 UI 요소**를 말한다. 함수를 이용한 함수형 컴포넌트와 클래스를 이용한 클래스형 컴포넌트가 있는데, 리액트 16.8버전 이후 부터는 함수형 컴포넌트를 주로 사용하여 개발한다고 한다.

```jsx
function example() {
  return <div>example</div>;
}
```

위의 예시 코드와 같이 함수형 컴포넌트는 함수를 이용하여 컴포넌트를 정의한다. 함수형 컴포넌트는 함수의 매개변수로 `props`를 받아와서 사용할 수 있다. `props`는 컴포넌트의 속성을 나타내는 객체이다. `props`를 이용하여 컴포넌트의 속성을 정의할 수 있다.

```jsx
function example(props) {
  return <div>{props.name}</div>;
}
```

이런 컴포넌트들은 어디서든 재사용 할 수 있다. 근데 js의 함수 리턴에 html이 있다. 상당히 어색한데 이런걸 jsx라고 한다.

<br>
<br>

## JSX

JSX는 html과 js를 조합한 javascript의 확장 문법이다. 리액트에서는 JSX를 적극 이용하여 UI를 그린다.

jsx는 babel을 이용하여 js로 변환된다. jsx는 html과 js를 조합한 문법이기 때문에, html의 태그들을 그대로 사용할 수 있으며, js의 변수를 그대로 사용할 수 있다. 다시말해, 자바스크립트(logic)와 HTML구조(markup)를 같이 사용할 수 있기 때문에 기본 UI에 데이터가 변하는 것들이나 이벤트들이 처리되는 부분을 더욱 쉽게 구현할 수 있다. JSX를 통해 리액트는 가상돔을 이용하여 렌더링을 한다. 가상돔은 실제 돔과 같은 구조를 가지고 있지만, 실제 돔은 아니기 때문에 렌더링이 빠르다는 장점이 있다. 가상돔은 또 뭘까??

<br>
<br>

## 가상돔(virtual DOM)과 실제돔(real DOM)

DOM(Document Object Model)이란 다음과 같다.

- DOM은 메모리에 웹 페이지 문서 구조를 트리구조로 표현해서 웹 브라우저가 HTML 페이지를 인식하게 해줌
- 웹 페이지를 이루는 요소들을 자바스크립트가 이용할 수 있게끔 브라우저가 트리구조로 만든 객체 모델을 의미한다.

그러니까 DOM은 브라우저에서 js가 html을 조작할 수 있게끔 만들어주는 것이다. DOM 트리를 DOM에서 제공하는 API를 이용하여 조작 할 수 있다. 여기서 Critical Rendering Path 개념이 매우 중요한데 이는 다음 포스팅에서 정리하겠다.

아무튼 DOM을 그리는 것 까지는 문제가 없지만, 어떠한 인터렉션에 의해서 DOM에 변화가 발생했을 때, Render Tree를 재 생성해서 DOM을 다시 그리는 것, 즉 모든 요소를 다시 계산해서 다시 그리는 것은 매우 비효율적이다. 그래서 리액트는 가상돔을 이용하여 DOM을 그린다. 가상돔은 실제 돔과 같은 구조를 가지고 있지만, 실제 돔은 아니기 때문에 렌더링이 빠르다는 장점이 있다. 가상돔이란 실제돔을 메모리에 복사해 둔 것이라고 생각하면 된다.

가상 돔은 실제 돔과 같은 모양이지만 Real DOM처럼 직접적으로 브라우저 문서에 접근을 할 수 없다. 그래서 화면에 보이는 요소를 직접 수정할 수도 없다.

리액트에서는 어떠한 State(데이터)가 바뀌면 가상돔이 새로 생성되고, 이전에 생긴 가상돔과 비교해서 바뀐 부분만 실제 돔에 적용을 시켜준다. 바뀐 부분을 찾는 과정을 Diffing이라고 부르며, 바뀐 부분만 실제 돔에 적용시켜주는 것을 재조정(reconciliation)이라고 부른다.

<br>
<br>

## 정리

우선은 이정도까지 알아보고 정리를 해보자.

1. 리액트는 라이브러리다.
2. 리액트는 컴포넌트를 이용하여 UI를 구성한며, 컴포넌트는 재사용이 가능한 UI 요소이다.
3. 리액트는 JSX를 이용하여 UI를 그린다.
4. 리액트의 Virtual DOM은 실제 DOM과 같은 내용을 담고 있으며, 이를 js object 형태로 메모리에 저장한 복사본이다.
5. 리액트는 렌더링 이전의 내용을 가지고 있는 가상돔과 렌더링 이후의 내용을 가지고 있는 가상돔을 비교하여 바뀐 부분만 실제 돔에 적용시켜준다.
6. 비교하는 과정을 Diffing이라고 부르며, 바뀐 부분만 실제 돔에 적용시켜주는 것을 재조정(reconciliation)이라고 부른다.

<br>
